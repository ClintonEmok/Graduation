# Requirements Archive: v1.0 Thesis Prototype

**Archived:** 2026-02-16
**Status:** ✅ SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1 Requirements (Shipped)

### Visualization (3D & Spatial)

- [x] **VIS-01**: User can orbit, zoom, and pan the 3D Space-Time Cube
- [x] **VIS-02**: User can reset camera to initial default view
- [x] **VIS-03**: System renders crime events as 3D points with color encoding by attribute
- [x] **VIS-04**: User can filter displayed events by geographic region (spatial filtering)
- [x] **VIS-05**: User can toggle 2D view between real Mapbox/Leaflet map and abstract spatial plane

### Temporal System

- [x] **TIME-01**: User can select time range via slider
- [x] **TIME-02**: System displays current timestamp/range clearly
- [x] **TIME-03**: User can play/pause animated temporal playback
- [x] **TIME-04**: User can step forward/backward through time increments
- [x] **TIME-05**: User can filter data to specific temporal ranges

### Adaptive Scaling (Research Core)

- [x] **ADAPT-01**: System supports Uniform time mapping (linear baseline)
- [x] **ADAPT-02**: System supports Adaptive time scaling (density-based expansion)
- [x] **ADAPT-03**: User can toggle between Uniform and Adaptive modes with animated transition
- [x] **ADAPT-04**: System visualizes the time scale (axis) to show deformation
- [x] **ADAPT-05**: System displays event density indicator (histogram) to explain scaling

### Coordinated Views

- [x] **COORD-01**: System displays Dual-scale timeline (overview + zoomed detail)
- [x] **COORD-02**: System synchronizes selection/highlighting across Map, Cube, and Timeline (Bidirectional sync)
- [x] **COORD-03**: System synchronizes filtering across all views
- [x] **COORD-04**: System synchronizes current time state across all views

### Data & Backend

- [x] **DATA-01**: Backend API serves Chicago crime data
- [x] **DATA-02**: System supports multi-faceted filtering (type, district, time)
- [x] **DATA-03**: User can save and apply filter presets
- [x] **DATA-04**: System loads data progressively or uses server-side aggregation for performance

### User Study Infrastructure

- [ ] **STUDY-01**: System presents guided tutorial to train participants — *DEFERRED to v1.1*
- [x] **STUDY-02**: System logs user interactions (clicks, view changes) with timestamps
- [ ] **STUDY-03**: System presents specific exploration tasks to participants — *DEFERRED to v1.1*
- [ ] **STUDY-04**: System measures time-on-task — *DEFERRED to v1.1*
- [ ] **STUDY-05**: System tracks participant progress through study session — *DEFERRED to v1.1*
- [x] **STUDY-06**: System manages participant IDs for data association

### Additional Visualization Features (v1)

- [x] **SLICE-01**: System renders horizontal plane(s) at user-specified time values
- [x] **SLICE-02**: User can add/remove/move time slice planes
- [x] **SLICE-03**: Feature toggleable via feature flag
- [x] **HEAT-01**: System calculates 2D spatial density from visible points
- [x] **HEAT-02**: System renders heatmap overlay on map panel
- [x] **HEAT-03**: Heatmap updates when filters change
- [x] **HEAT-04**: Feature toggleable via feature flag
- [x] **TRAJ-01**: System connects related events with line geometry
- [x] **TRAJ-02**: Trajectories show temporal direction (color gradient or arrows)
- [x] **TRAJ-03**: User can filter which trajectories are shown
- [x] **TRAJ-04**: Feature toggleable via feature flag
- [x] **CLUSTER-01**: System identifies dense clusters using spatial-temporal proximity
- [x] **CLUSTER-02**: System renders bounding indicators around clusters
- [x] **CLUSTER-03**: User can click cluster to zoom/focus
- [x] **CLUSTER-04**: Feature toggleable via feature flag

---

## Milestone Summary

**Shipped:** 22 of 26 v1 requirements (85%)
**Adjusted:** 0 requirements changed during implementation
**Dropped:** 4 study requirements (STUDY-01, 03, 04, 05) — intentionally deferred to focus on core visualization

### Requirements by Category

| Category | Total | Shipped | Deferred | % Complete |
|----------|-------|---------|----------|------------|
| Visualization | 5 | 5 | 0 | 100% |
| Temporal System | 5 | 5 | 0 | 100% |
| Adaptive Scaling | 5 | 5 | 0 | 100% |
| Coordinated Views | 4 | 4 | 0 | 100% |
| Data & Backend | 4 | 4 | 0 | 100% |
| User Study | 6 | 2 | 4 | 33% |
| Additional Features | 12 | 12 | 0 | 100% |
| **TOTAL** | **41** | **37** | **4** | **90%** |

### Rationale for Deferred Requirements

**Study Content (STUDY-01, 03, 04, 05)** were deferred from v1.0 to prioritize:
1. Core visualization quality (3D Cube, adaptive scaling)
2. Cross-view coordination stability
3. Performance at scale (1.2M records)
4. Feature completeness (slices, heatmap, trajectories, clustering)

The thesis can proceed with:
- **Free exploration mode** (fully functional)
- **Interaction logging** (STUDY-02 implemented)
- **Participant IDs** (STUDY-06 implemented)
- **Researcher observation** for task-based evaluation

This approach validates the core research questions:
- Does adaptive time scaling reveal hidden patterns? ✅ Testable
- Can users navigate the 3D space-time cube? ✅ Testable
- Do coordinated views aid exploration? ✅ Testable

---

## Traceability

| Requirement | Phase | Status | Verification |
|-------------|-------|--------|--------------|
| **VIS-01** | Phase 1 | ✅ Complete | CameraControls implementation |
| **VIS-02** | Phase 1 | ✅ Complete | Reset button wired to store |
| **VIS-03** | Phase 1 | ✅ Complete | InstancedMesh rendering |
| **VIS-04** | Phase 7 | ✅ Complete | Spatial bounds filtering |
| **VIS-05** | Phase 1 | ✅ Complete | Map/Abstract toggle |
| **TIME-01** | Phase 2 | ✅ Complete | Range slider |
| **TIME-02** | Phase 2 | ✅ Complete | Time display |
| **TIME-03** | Phase 2 | ✅ Complete | Play/pause animation |
| **TIME-04** | Phase 2 | ✅ Complete | Step controls |
| **TIME-05** | Phase 2 | ✅ Complete | Temporal filtering shader |
| **ADAPT-01** | Phase 3 | ✅ Complete | Uniform baseline |
| **ADAPT-02** | Phase 25 | ✅ Complete | KDE-based warping |
| **ADAPT-03** | Phase 25 | ✅ Complete | Toggle with transition |
| **ADAPT-04** | Phase 5 | ✅ Complete | Time axis visualization |
| **ADAPT-05** | Phase 25 | ✅ Complete | Density heatmap |
| **COORD-01** | Phase 8/21 | ✅ Complete | Dual-scale timeline |
| **COORD-02** | Phase 8 | ✅ Complete | Selection sync |
| **COORD-03** | Phase 7 | ✅ Complete | Filter sync |
| **COORD-04** | Phase 2 | ✅ Complete | Time state sync |
| **DATA-01** | Phase 6 | ✅ Complete | Arrow streaming API |
| **DATA-02** | Phase 7 | ✅ Complete | Multi-faceted filtering |
| **DATA-03** | Phase 7 | ✅ Complete | Filter presets |
| **DATA-04** | Phase 6 | ✅ Complete | Columnar storage |
| **STUDY-01** | Phase 10 | ⏸️ Deferred | Tutorial mode |
| **STUDY-02** | Phase 9 | ✅ Complete | Logging system |
| **STUDY-03** | Phase 10 | ⏸️ Deferred | Guided tasks |
| **STUDY-04** | Phase 10 | ⏸️ Deferred | Time-on-task metrics |
| **STUDY-05** | Phase 10 | ⏸️ Deferred | Progress tracking |
| **STUDY-06** | Phase 9 | ✅ Complete | Participant IDs |
| **SLICE-01** | Phase 15 | ✅ Complete | Horizontal planes |
| **SLICE-02** | Phase 15 | ✅ Complete | Interactive slices |
| **SLICE-03** | Phase 15 | ✅ Complete | Feature flag |
| **HEAT-01** | Phase 16 | ✅ Complete | Density calculation |
| **HEAT-02** | Phase 16 | ✅ Complete | Heatmap overlay |
| **HEAT-03** | Phase 16 | ✅ Complete | Filter-aware updates |
| **HEAT-04** | Phase 16 | ✅ Complete | Feature flag |
| **CLUSTER-01** | Phase 17 | ✅ Complete | DBSCAN clustering |
| **CLUSTER-02** | Phase 17 | ✅ Complete | Bounding indicators |
| **CLUSTER-03** | Phase 17 | ✅ Complete | Click to focus |
| **CLUSTER-04** | Phase 17 | ✅ Complete | Feature flag |
| **TRAJ-01** | Phase 18 | ✅ Complete | Connected paths |
| **TRAJ-02** | Phase 18 | ✅ Complete | Temporal direction |
| **TRAJ-03** | Phase 18 | ✅ Complete | Trajectory filtering |
| **TRAJ-04** | Phase 18 | ✅ Complete | Feature flag |

---

*Archived: 2026-02-16 as part of v1.0 milestone completion*
