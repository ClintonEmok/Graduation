---
phase: 04-ui-layout-redesign
plan: 06
type: execute
wave: 1
depends_on: [04-04]
files_modified:
  - src/components/viz/CubeVisualization.tsx
autonomous: true
gap_closure: true
must_haves:
  truths:
    - "Users can see the 3D scene"
    - "Camera responds to Reset button"
  artifacts:
    - path: "src/components/viz/CubeVisualization.tsx"
      provides: "3D Scene Container"
    - path: "src/components/viz/MainScene.tsx"
      provides: "Actual 3D Logic"
  key_links:
    - from: "src/components/viz/CubeVisualization.tsx"
      to: "src/components/viz/MainScene.tsx"
      via: "import and render"
---

<objective>
Reintegrate the 3D Scene into the CubeVisualization component.
Purpose: Close the gap where the 3D view was a placeholder, and connect the Reset button to the Camera controls.
Output: A functional 3D view within the new layout.
</objective>

<context>
@src/components/viz/CubeVisualization.tsx
@src/components/viz/MainScene.tsx
</context>

<tasks>

<task type="auto">
  <name>Import and Render MainScene</name>
  <files>src/components/viz/CubeVisualization.tsx</files>
  <action>
    Modify `src/components/viz/CubeVisualization.tsx`:
    1. Import `MainScene` from `./MainScene`.
    2. Replace the `<div className="..."><p>3D Scene Area</p></div>` placeholder with:
       ```tsx
       <div className="flex-1 w-full relative bg-black overflow-hidden">
         <MainScene />
       </div>
       ```
    3. Ensure the parent container uses `flex-1` so the scene fills the available space.
    4. Keep the header and Reset button (ensure z-index allows clicking button over canvas).
  </action>
  <verify>
    grep "<MainScene />" src/components/viz/CubeVisualization.tsx
  </verify>
  <done>
    Placeholder replaced with actual 3D component.
  </done>
</task>

</tasks>

<verification>
Verify MainScene is imported and used.
</verification>

<success_criteria>
- [ ] CubeVisualization renders MainScene
- [ ] Reset button persists on top of the scene
</success_criteria>

<output>
After completion, create .planning/phases/04-ui-layout-redesign/04-06-SUMMARY.md
</output>
