---
phase: 35-semi-automated-timeslicing-workflows
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: true

must_haves:
  truths:
    - "User can access semi-automated timeslicing on dedicated route"
    - "Side panel displays list of suggestions"
    - "Each suggestion shows confidence percentage"
    - "Accept/Modify/Reject actions work"
  artifacts:
    - path: "src/app/timeslicing/page.tsx"
      provides: "Dedicated route for semi-automated timeslicing"
    - path: "src/store/useSuggestionStore.ts"
      provides: "Suggestion state management"
  key_links:
    - from: "src/app/timeslicing/page.tsx"
      to: "src/store/useSuggestionStore"
      via: "import and use store hooks"
---

<objective>
Create foundation for semi-automated timeslicing: new route and suggestion store.
</objective>

<execution_context>
@~/.opencode/get-shit-done/workflows/execute-plan.md
@~/.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md
@.planning/phases/35-semi-automated-timeslicing-workflows/35-CONTEXT.md
@.planning/phases/35-semi-automated-timeslicing-workflows/35-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Create /timeslicing route with basic page structure</name>
  <files>src/app/timeslicing/page.tsx, src/app/timeslicing/layout.tsx</files>
  <action>
Create new route at src/app/timeslicing/page.tsx with:
- Basic page layout (full-width timeline area + side panel zone)
- Import existing DualTimeline component for the timeline visualization area
- Import existing data hooks (useCrimeData) to populate timeline
- Basic loading state while data loads
- Route should mirror /timeline-test structure but be standalone for this feature

Also create src/app/timeslicing/layout.tsx with:
- Standard page layout wrapper (no special requirements)
  </action>
  <verify>
Navigate to /timeslicing renders a page with timeline visualization</verify>
  <done>Route accessible, page renders with timeline component</done>
</task>

<task type="auto">
  <name>Create useSuggestionStore with Zustand</name>
  <files>src/store/useSuggestionStore.ts</files>
  <action">
Create Zustand store at src/store/useSuggestionStore.ts following patterns from useWarpSliceStore and useCoordinationStore:

```typescript
interface Suggestion {
  id: string;
  type: 'warp-profile' | 'interval-boundary';
  confidence: number; // 0-100
  data: WarpProfileData | IntervalBoundaryData;
  createdAt: number;
  status: 'pending' | 'accepted' | 'rejected' | 'modified';
}

interface SuggestionStore {
  suggestions: Suggestion[];
  isPanelOpen: boolean;
  activeSuggestionId: string | null;
  
  // Actions
  addSuggestion: (suggestion: Omit<Suggestion, 'id' | 'createdAt' | 'status'>) => void;
  acceptSuggestion: (id: string) => void;
  rejectSuggestion: (id: string) => void;
  modifySuggestion: (id: string, updates: Partial<Suggestion['data']>) => void;
  setPanelOpen: (open: boolean) => void;
  setActiveSuggestion: (id: string | null) => void;
  clearSuggestions: () => void;
}
```

- Export type Suggestion and SuggestionStore
- Implement all actions following zustand best practices
- Use crypto.randomUUID() for id generation
  </action>
  <verify>
Store can be imported and used in components, TypeScript compiles</verify>
  <done>Store created with all CRUD actions for suggestions</done>
</task>

<task type="auto">
  <name>Wire timeline to use crime data</name>
  <files>src/app/timeslicing/page.tsx</files>
  <action>
Update timeslicing page to use real crime data:
- Import useCrimeData hook from @/hooks/useCrimeData
- Pass appropriate parameters (date range, filters) to hook
- Handle loading and error states from the hook
- Display data in DualTimeline component

This establishes the foundation - the actual suggestion generation comes in later phases.
  </action>
  <verify>Timeline renders with crime data from useCrimeData hook</verify>
  <done>Timeline displays real crime data on the timeslicing route</done>
</task>

</tasks>

<verification>
- [ ] /timeslicing route renders without errors
- [ ] useSuggestionStore exports Suggestion type and store functions
- [ ] Timeline shows crime data from useCrimeData
</verification>

<success_criteria>
Route created, store established, data wired - foundation ready for UI components
</success_criteria>

<output>
After completion, create `.planning/phases/35-semi-automated-timeslicing-workflows/35-01-SUMMARY.md`
</output>
