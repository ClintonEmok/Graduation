---
phase: 37-algorithm-integration
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/timeslicing/components/SuggestionCard.tsx
  - src/app/timeslicing/page.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Percentages converted to date ranges (e.g., 'Jan 15 - Mar 20, 2005')"
    - "Epoch seconds displayed as human-readable dates"
    - "Hovering suggestion shows preview on timeline"
    - "Accepted warp profiles highlighted on timeline with distinct visual"
    - "Smooth animations when cards appear/disappear"
  artifacts:
    - path: "src/app/timeslicing/components/SuggestionCard.tsx"
      provides: "Date formatting for both percentages and epochs"
---

<objective>
Fix critical UX issues in the Suggestion UI - quick wins that significantly improve usability.

Purpose: Address the most impactful usability gaps identified in UX analysis.
</objective>

<context>
Current state:
- Epoch seconds displayed raw in boundary editing (unreadable)
- No visual preview when hovering suggestions
- No animations on card transitions

These are quick fixes that don't require architectural changes.
</context>

<tasks>

<task type="auto">
  <name>Format percentages and epochs as readable dates</name>
  <files>src/app/timeslicing/components/SuggestionCard.tsx</files>
  <action>
    Convert all time values to human-readable dates:
    
    For warp profile intervals (percentages → dates):
    1. Get timeline domain from store (start/end epoch seconds)
    2. Convert startPercent/endPercent to actual dates using domain
    3. Display as "Jan 15 - Mar 20, 2005" format
    4. Show in both card preview AND inline editing controls
    
    For interval boundaries (epoch seconds → dates):
    1. Add a formatDate function or import from SuggestionPanel
    2. Display boundaries as "Jan 15, 2005" format instead of raw epoch
    3. Keep epoch value in the input but show formatted date as label/placeholder
    4. Also fix the data preview section to show formatted dates
  </action>
  <verify>Intervals show as date ranges, boundaries show as readable dates</verify>
  <done>All time values displayed as human-readable dates</done>
</task>

<task type="auto">
  <name>Add timeline hover preview for suggestions</name>
  <files>src/app/timeslicing/page.tsx</files>
  <action>
    When user hovers over a suggestion card, show a visual preview on the timeline:
    1. Add hover state tracking to SuggestionCard (useSuggestionStore or local state)
    2. When hovering warp profile: highlight the intervals on the timeline axis
    3. When hovering interval boundary: show vertical lines at boundary positions
    4. Use a subtle highlight layer that doesn't interfere with existing timeline
    5. Remove preview on mouse leave
  </action>
  <verify>Hovering a suggestion shows visual indicator on timeline</verify>
  <done>Timeline provides visual feedback while browsing suggestions</done>
</task>

<task type="auto">
  <name>Highlight accepted warp intervals on timeline</name>
  <files>src/app/timeslicing/page.tsx, src/store/useWarpSliceStore.ts</files>
  <action>
    When a warp profile is accepted, visually show the warped intervals on the timeline:
    1. When warp slices are created from accepted suggestions, store metadata indicating they came from suggestions
    2. Add a highlight layer to the timeline that renders differently for suggestion-derived warps
    3. Show warped intervals with a distinct style (e.g., violet/amber overlay with dashed border)
    4. Add a legend or indicator showing "Warp from suggestion" vs regular warp slices
    5. This helps users see what the warp profile actually affects on the timeline
  </action>
  <verify>Accepted warp profiles show visual highlight on timeline intervals</verify>
  <done>Users can see which time intervals are affected by accepted warp profiles</done>
</task>

<task type="auto">
  <name>Add smooth animations for card transitions</name>
  <files>src/app/timeslicing/components/SuggestionCard.tsx, src/app/timeslicing/components/SuggestionPanel.tsx</files>
  <action>
    Add animations for better UX:
    1. Cards fade in when they appear (CSS animation or Framer Motion)
    2. Cards fade out smoothly when accepted/rejected
    3. Add transition: all 200ms ease to card container
    4. Animate the pending→processed section move
  </action>
  <verify>Smooth fade animations on card appearance and removal</verify>
  <done>UI feels polished with smooth transitions</done>
</task>

</tasks>

<verification>
- [ ] Warp profile intervals show as date ranges (e.g., "Jan 15 - Mar 20, 2005")
- [ ] Boundary epochs display as readable dates
- [ ] Hovering suggestion highlights on timeline
- [ ] Accepted warp intervals are visually highlighted on timeline
- [ ] Cards animate in/out smoothly
</verification>

<success_criteria>
Critical UX gaps closed: readable dates, visual preview, animations
</success_criteria>

<output>
After completion, create `.planning/phases/37-algorithm-integration/37-03-SUMMARY.md`
</output>
