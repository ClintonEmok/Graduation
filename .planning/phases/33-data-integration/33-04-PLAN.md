---
phase: 33-data-integration
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/layout/TopBar.tsx
autonomous: true
gap_closure: true
---

<objective>
Fix: Display data count in TopBar. The dataCount is imported but never rendered in the UI.

Gap from UAT: "i dont see it but i also dont see the data displayed"
Severity: major
</objective>

<context>
@.planning/phases/33-data-integration/33-UAT.md
@src/components/layout/TopBar.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add dataCount to TopBar display</name>
  <files>src/components/layout/TopBar.tsx</files>
  <action>
    In TopBar.tsx, find where dataCount is imported and add the rendered display.
    
    The formatCount function already exists at line 48-52 but is never called in the JSX.
    
    Add a display element that shows dataCount when it exists:
    ```tsx
    {dataCount !== undefined && (
      <span className="text-xs text-gray-500 ml-2">
        ({formatCount(dataCount)} records)
      </span>
    )}
    ```
    
    This should be placed next to the isMock warning or in the stats area.
  </action>
  <verify>
    Run the app and verify the data count (~8.3M) appears in the TopBar
  </verify>
  <done>
    Data count (~8.3M) is displayed in TopBar next to the demo warning or stats area
  </done>
</task>

</tasks>

<verification>
After completing the task, verify data count displays correctly in the TopBar component.
</verification>

<success_criteria>
Data count is rendered in TopBar when dataCount is defined.
</success_criteria>

<output>
After completion, create `.planning/phases/33-data-integration/33-04-SUMMARY.md`
</output>
