---
phase: 13-ui-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/viz/Controls.tsx
  - src/components/viz/FloatingToolbar.tsx
  - src/components/viz/FilterOverlay.tsx
  - src/components/ui/tooltip.tsx
autonomous: true
must_haves:
  truths:
    - "User sees tooltips when hovering over control buttons"
    - "Control panels have consistent padding and spacing"
  artifacts:
    - path: "src/components/ui/tooltip.tsx"
      provides: "Tooltip primitives"
  key_links:
    - from: "src/components/viz/Controls.tsx"
      to: "src/components/ui/tooltip.tsx"
      via: "TooltipProvider"
---

<objective>
Polish the interactive components by adding tooltips and standardizing spacing/layout to match the modern design aesthetic.

Purpose: Improve usability by explaining icon-only controls and ensuring visual consistency.
Output: Tooltip-enabled `Controls` and `FloatingToolbar`, with improved spacing.
</objective>

<execution_context>
@~/.opencode/get-shit-done/workflows/execute-plan.md
@~/.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/13-ui-polish/13-RESEARCH.md
@src/components/viz/Controls.tsx
@src/components/viz/FloatingToolbar.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Tooltip Component</name>
  <files>components.json, package.json</files>
  <action>
    1. Run `npx shadcn@latest add tooltip`.
    2. This creates `src/components/ui/tooltip.tsx` exporting `Tooltip`, `TooltipTrigger`, `TooltipContent`, `TooltipProvider`.
    3. Ensure `sonner` is also installed (run `npx shadcn@latest add sonner` if missing, to avoid type errors if used in Controls).
  </action>
  <verify>
    ls src/components/ui/tooltip.tsx
  </verify>
  <done>
    Tooltip component available.
  </done>
</task>

<task type="auto">
  <name>Task 2: Polish Controls Component</name>
  <files>src/components/viz/Controls.tsx</files>
  <action>
    Refactor `src/components/viz/Controls.tsx`:
    1. Wrap the entire component (or root interactions) in `<TooltipProvider>`.
    2. For each icon-only button (e.g., Play/Pause, Reset, Mode Toggle):
       - Wrap in `<Tooltip>`.
       - `<TooltipTrigger asChild><Button ... /></TooltipTrigger>`.
       - `<TooltipContent><p>Description</p></TooltipContent>`.
    3. Standardize Spacing:
       - Use `gap-4` or `space-y-4` for vertical stacks.
       - Ensure consistent `p-4` padding in the container card.
    4. Add helpful tooltips for complex inputs (e.g., "Adjust time range", "Toggle adaptive scaling").
  </action>
  <verify>
    grep "Tooltip" src/components/viz/Controls.tsx
  </verify>
  <done>
    Controls component has tooltips and consistent spacing.
  </done>
</task>

<task type="auto">
  <name>Task 3: Polish Floating Toolbar</name>
  <files>src/components/viz/FloatingToolbar.tsx</files>
  <action>
    Refactor `src/components/viz/FloatingToolbar.tsx`:
    1. Add Tooltips to the draggable toolbar buttons (Settings, etc.).
    2. Ensure the drag handle has a tooltip explaining "Drag to move".
    3. Check spacing and icon alignment.
  </action>
  <verify>
    grep "Tooltip" src/components/viz/FloatingToolbar.tsx
  </verify>
  <done>
    Floating toolbar has tooltips.
  </done>
</task>

</tasks>

<verification>
- Check that `Controls.tsx` imports Tooltip components.
- Verify `TooltipProvider` wraps the tooltips.
</verification>

<success_criteria>
- Tooltips added to Controls and FloatingToolbar.
- Spacing standardized in Controls.
</success_criteria>

<output>
After completion, create `.planning/phases/13-ui-polish/13-02-SUMMARY.md`
</output>
